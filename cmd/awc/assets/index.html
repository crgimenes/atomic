<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <script src="/assets/wasm_exec.js">
    </script>
    <script>
        var go = new Go();
        WebAssembly.instantiateStreaming(fetch("/assets/main.wasm"), go.importObject).then(result => {
            go.run(result.instance);
        });
    </script>

    <script>
        var socket = new WebSocket("ws://localhost:8080/echo");

        function sendBytes(bytes) {
            socket.send(bytes);
            console.log(bytes);
        }

        socket.onmessage = function (event) {
            var receivedBytes = event.data;
            console.log(receivedBytes);
        }
    </script>
</head>

<body>
    <button onclick="sendBytes('teste')">Teste</button>

</body>

</html>